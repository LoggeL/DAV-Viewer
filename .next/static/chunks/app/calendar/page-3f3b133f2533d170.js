(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[329],{1613:function(e,t,a){Promise.resolve().then(a.bind(a,5879))},5879:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return s}});var n=a(7437),l=a(2265),r=a(9376);function c(){let e=(0,r.useRouter)(),t=(0,r.useSearchParams)(),[a,c]=(0,l.useState)({serverUrl:"",username:"",password:""}),[s,E]=(0,l.useState)([]),[b,N]=(0,l.useState)(new Set),[M,k]=(0,l.useState)("month"),[j,F]=(0,l.useState)(new Date),[O,U]=(0,l.useState)(new Map),[H,L]=(0,l.useState)(!1),[T,I]=(0,l.useState)(null),Y=(0,l.useRef)(null);(0,l.useEffect)(()=>{let a=(null==t?void 0:t.get("demo"))==="1";try{let t=localStorage.getItem("caldavWebappCredsV2");if(t){let e=JSON.parse(t);c({serverUrl:e.serverUrl||"",username:e.username||"",password:e.password||""}),E(Array.isArray(e.calendars)?e.calendars:[]),N(new Set(Array.isArray(e.selectedCalendarUrls)?e.selectedCalendarUrls:[]))}t||a||e.push("/")}catch(t){e.push("/")}},[]),(0,l.useEffect)(()=>{try{let e=localStorage.getItem("caldavWebappCredsV2"),t=e?JSON.parse(e):{};t.calendars=s,t.selectedCalendarUrls=[...b],localStorage.setItem("caldavWebappCredsV2",JSON.stringify(t))}catch(e){}},[s,b]);let P=(0,l.useCallback)(async(e,t)=>{let a=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await a.json();if(!a.ok)throw Error((null==n?void 0:n.error)||"Fehler");return n},[]),A=(0,l.useCallback)(()=>{let e=new Date(j);if("month"===M){let t=p(new Date(e.getFullYear(),e.getMonth(),1)),a=new Date(t.getTime()+35424e5);return a.setHours(23,59,59,999),{start:t,end:a}}if("week"===M){let t=p(e),a=new Date(t.getTime()+5184e5);return a.setHours(23,59,59,999),{start:t,end:a}}if("agenda"===M){let t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=new Date(t.getTime()+25056e5);return a.setHours(23,59,59,999),{start:t,end:a}}let t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999);return{start:t,end:a}},[j,M]),J=(0,l.useMemo)(()=>{let{start:e,end:t}=A();return"month"===M?f(j):"week"===M||"agenda"===M?"".concat(D(e)," – ").concat(D(t)," ").concat(e.getFullYear()):y(e)},[j,M,A]),z=(0,l.useCallback)(()=>{let e=[];for(let t of s)if(b.has(t.url))for(let a of O.get(t.url)||[])e.push({cal:t,e:a});return e},[s,b,O]),B=(0,l.useCallback)(e=>{let t=new Map;for(let a of e){let e=i(new Date(a.e.start));t.has(e)||t.set(e,[]),t.get(e).push(a)}for(let e of t.keys())t.get(e).sort((e,t)=>new Date(e.e.start)-new Date(t.e.start));return t},[]),R=(0,l.useMemo)(()=>({state:{calendars:s,selectedCalendarUrls:b,currentDate:j},toInputDate:i,toInputDateTimeLocal:d,endOfDay:u,isSameDate:h,formatWeekdayShort:g,formatTimeLabel:v,formatMonthLabel:f,formatDayMonth:D,formatLongDate:y,startOfWeek:p,minutesFromStartOfDay:S,getHourHeightPx:w,layoutOverlappingEvents:C,getEventsForVisibleCalendars:z,groupEventsByDateKey:B,createEventChip:W,createDayHeader:Z,showEditor:e=>K(e),escapeHtml:m,formatDateTime:x}),[s,b,j,z,B]),V=(0,l.useCallback)(async()=>{let{start:e,end:t}=A(),n=[...b],l=await Promise.all(n.map(async n=>{let l="demo"===a.serverUrl?{demo:!0,calendarUrl:n,timeMin:e.toISOString(),timeMax:t.toISOString()}:{serverUrl:a.serverUrl,username:a.username,password:a.password,calendarUrl:n,timeMin:e.toISOString(),timeMax:t.toISOString()},{events:r}=await P("/api/list-events",l);return{url:n,events:r||[]}})),r=new Map;for(let{url:e,events:t}of l)r.set(e,t);U(r)},[b,a,A,P]);function q(e){let t=new Date(j);"month"===M?t.setMonth(t.getMonth()+e):"week"===M?t.setDate(t.getDate()+7*e):t.setDate(t.getDate()+e),F(t)}function K(e){I(e||null),L(!0)}function _(){L(!1),I(null)}async function G(e){let t="demo"===a.serverUrl?{demo:!0}:{serverUrl:a.serverUrl,username:a.username,password:a.password};try{e.href?await P("/api/update-event",{...t,calendarObjectUrl:e.href,etag:e.etag,event:e.event}):await P("/api/create-event",{...t,calendarUrl:e.calendarUrl,event:e.event}),await V(),_()}catch(e){alert(e.message||"Fehler beim Speichern")}}return(0,l.useEffect)(()=>{(async()=>{if(!s||0===s.length)try{let e="demo"===a.serverUrl?{demo:!0}:{serverUrl:a.serverUrl,username:a.username,password:a.password},{calendars:t}=await P("/api/list-calendars",e);E(t||[]),b&&0!==b.size||N(new Set((t||[]).map(e=>e.url)))}catch(e){}})()},[a]),(0,l.useEffect)(()=>{s.length>0&&b.size>0&&V()},[s,b,M,j]),(0,l.useEffect)(()=>{let e=Y.current;if(!e)return;e.innerHTML="";let t=A();"month"===M?function(e,t,a){let{start:n}=a,l=t.state.currentDate.getMonth();t.state.currentDate.getFullYear();let r=document.createElement("div");for(let e of(r.className="weekday-header",["Mo","Di","Mi","Do","Fr","Sa","So"])){let t=document.createElement("div");t.textContent=e,r.appendChild(t)}e.appendChild(r);let c=document.createElement("div");c.className="month-grid",e.appendChild(c);let s=t.getEventsForVisibleCalendars(),o=t.groupEventsByDateKey(s);for(let e=0;e<42;e++){let a=new Date(n.getFullYear(),n.getMonth(),n.getDate()+e),r=a.getMonth()!==l,s=t.isSameDate(a,new Date),i=t.toInputDate(a),d=document.createElement("div");d.className="month-day"+(r?" outside":"")+(s?" today":""),d.dataset.date=i;let u=document.createElement("div");u.className="month-date",u.textContent=String(a.getDate()),d.appendChild(u);let m=document.createElement("div");m.className="month-events";let p=o.get(i)||[];if(p.slice(0,4).forEach(e=>{let{cal:a,e:n}=e,l=t.createEventChip(a,n);m.appendChild(l)}),p.length>4){let e=document.createElement("button");e.className="more-chip",e.textContent="+".concat(p.length-4," mehr"),e.addEventListener("click",e=>{e.stopPropagation(),function(e,t,a){let n=document.querySelector(".modal");n&&n.remove();let l=document.createElement("div");l.className="modal";let r=document.createElement("div");r.className="modal-card";let c=document.createElement("div");c.className="modal-title";let s=new Date(t+"T00:00:00");c.textContent=e.formatLongDate(s);let o=document.createElement("div");for(let{cal:t,e:n}of(o.className="modal-list",a)){let a=document.createElement("button");a.className="modal-row",a.innerHTML='<span class="dot" style="background:'.concat(t.color||"var(--muted)",'"></span><span>').concat(e.escapeHtml(n.summary||""),'</span><span class="time">').concat(e.formatDateTime(n.start,n.allDay),"</span>"),a.addEventListener("click",()=>{e.showEditor({href:n.href,etag:n.etag,calendarUrl:t.url,summary:n.summary,description:n.description,location:n.location,start:n.start,end:n.end,allDay:n.allDay}),l.remove()}),o.appendChild(a)}let i=document.createElement("button");i.className="modal-close",i.textContent="Schlie\xdfen",i.addEventListener("click",()=>l.remove()),r.append(c,o,i),l.appendChild(r),document.body.appendChild(l)}(t,i,p)}),m.appendChild(e)}d.appendChild(m),d.addEventListener("click",()=>{var e;let n=new Date(a.getFullYear(),a.getMonth(),a.getDate(),9,0,0,0),l=new Date(n.getTime()+36e5);t.showEditor({calendarUrl:(null===(e=t.state.calendars[0])||void 0===e?void 0:e.url)||"",start:n.toISOString(),end:l.toISOString(),allDay:!1})}),c.appendChild(d)}}(e,R,t):"week"===M?function(e,t,a){let{start:n,end:l}=a,r=document.createElement("div");r.className="week-grid";let c=[];for(let e=0;e<7;e++){let t=new Date(n.getFullYear(),n.getMonth(),n.getDate()+e);c.push(t)}let s=document.createElement("div");s.className="allday-row";let o=document.createElement("div");o.className="time-col allday-label",o.textContent="Ganzt\xe4gig",s.appendChild(o);let i=document.createElement("div");i.className="allday-cells";for(let e=0;e<7;e++){let a=document.createElement("div");a.className="allday-cell",a.dataset.date=t.toInputDate(c[e]),a.appendChild(t.createDayHeader(c[e])),a.addEventListener("click",()=>{var a;let n=c[e],l=new Date(n.getFullYear(),n.getMonth(),n.getDate()),r=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1);t.showEditor({calendarUrl:(null===(a=t.state.calendars[0])||void 0===a?void 0:a.url)||"",start:l.toISOString(),end:r.toISOString(),allDay:!0})}),i.appendChild(a)}s.appendChild(i),r.appendChild(s);let d=document.createElement("div");d.className="time-grid";let u=document.createElement("div");u.className="time-col";for(let e=0;e<24;e++){let t=document.createElement("div");t.className="hour",t.textContent=String(e).padStart(2,"0")+":00",u.appendChild(t)}d.appendChild(u);let m=document.createElement("div");m.className="days-wrap";let p=t.getEventsForVisibleCalendars(),h=new Map;for(let e of c)h.set(t.toInputDate(e),[]);for(let e of p){let a=t.toInputDate(new Date(e.e.start));h.has(a)&&h.get(a).push(e)}for(let e=0;e<7;e++){let a=c[e],n=t.toInputDate(a),l=document.createElement("div");l.className="day-col",l.dataset.date=n;let r=document.createElement("div");r.className="day-col-inner",l.appendChild(r),l.addEventListener("click",e=>{var n;let r=l.getBoundingClientRect(),c=30*Math.round(Math.max(0,Math.min(1439,Math.round((e.clientY-r.top)/r.height*1440)))/30),s=new Date(a.getFullYear(),a.getMonth(),a.getDate(),Math.floor(c/60),c%60),o=new Date(s.getTime()+36e5);t.showEditor({calendarUrl:(null===(n=t.state.calendars[0])||void 0===n?void 0:n.url)||"",start:s.toISOString(),end:o.toISOString(),allDay:!1})});let s=h.get(n)||[],o=s.filter(e=>e.e.allDay),d=s.filter(e=>!e.e.allDay),u=i.children[e];for(let{cal:e,e:a}of o){let n=t.createEventChip(e,a);u.appendChild(n)}for(let e of t.layoutOverlappingEvents(d.map(e=>({cal:e.cal,e:e.e,start:new Date(e.e.start),end:new Date(e.e.end)})))){let a=document.createElement("button");a.className="event-block",a.style.borderLeftColor=e.cal.color||"var(--accent)";let n=t.minutesFromStartOfDay(e.start)/60*t.getHourHeightPx(),l=Math.max(20,(t.minutesFromStartOfDay(e.end)-t.minutesFromStartOfDay(e.start))/60*t.getHourHeightPx()),c=100/e.trackCount,s=c*e.trackIndex;a.style.top="".concat(n,"px"),a.style.height="".concat(l,"px"),a.style.left="calc(".concat(s,"% + 2px)"),a.style.width="calc(".concat(c,"% - 4px)"),a.innerHTML='<div class="evt-time">'.concat(t.formatTimeLabel(e.start),"–").concat(t.formatTimeLabel(e.end),'</div><div class="evt-title">').concat(t.escapeHtml(e.e.summary||""),"</div>"),a.addEventListener("click",a=>{a.stopPropagation(),t.showEditor({href:e.e.href,etag:e.e.etag,calendarUrl:e.cal.url,summary:e.e.summary,description:e.e.description,location:e.e.location,start:e.e.start,end:e.e.end,allDay:e.e.allDay})}),r.appendChild(a)}m.appendChild(l)}r.appendChild(d),r.appendChild(m),e.appendChild(r)}(e,R,t):"day"===M?function(e,t,a){let{start:n}=a,l=new Date(n.getFullYear(),n.getMonth(),n.getDate()),r=document.createElement("div");r.className="allday-row";let c=document.createElement("div");c.className="time-col allday-label",c.textContent="Ganzt\xe4gig",r.appendChild(c);let s=document.createElement("div");s.className="allday-cells";let o=document.createElement("div");o.className="allday-cell",o.dataset.date=t.toInputDate(l),o.appendChild(t.createDayHeader(l)),o.addEventListener("click",()=>{var e;let a=new Date(l.getFullYear(),l.getMonth(),l.getDate()),n=new Date(l.getFullYear(),l.getMonth(),l.getDate()+1);t.showEditor({calendarUrl:(null===(e=t.state.calendars[0])||void 0===e?void 0:e.url)||"",start:a.toISOString(),end:n.toISOString(),allDay:!0})}),s.appendChild(o),r.appendChild(s),e.appendChild(r);let i=document.createElement("div");i.className="time-grid";let d=document.createElement("div");d.className="time-col";for(let e=0;e<24;e++){let t=document.createElement("div");t.className="hour",t.textContent=String(e).padStart(2,"0")+":00",d.appendChild(t)}i.appendChild(d);let u=document.createElement("div");u.className="days-wrap";let m=document.createElement("div");m.className="day-col",m.dataset.date=t.toInputDate(l);let p=document.createElement("div");p.className="day-col-inner",m.appendChild(p),m.addEventListener("click",e=>{var a;let n=m.getBoundingClientRect(),r=30*Math.round(Math.max(0,Math.min(1439,Math.round((e.clientY-n.top)/n.height*1440)))/30),c=new Date(l.getFullYear(),l.getMonth(),l.getDate(),Math.floor(r/60),r%60),s=new Date(c.getTime()+36e5);t.showEditor({calendarUrl:(null===(a=t.state.calendars[0])||void 0===a?void 0:a.url)||"",start:c.toISOString(),end:s.toISOString(),allDay:!1})});let h=t.getEventsForVisibleCalendars().filter(e=>{let{e:a}=e;return t.isSameDate(new Date(a.start),l)}),g=h.filter(e=>e.e.allDay),v=h.filter(e=>!e.e.allDay);for(let{cal:e,e:a}of g){let n=t.createEventChip(e,a);o.appendChild(n)}for(let e of t.layoutOverlappingEvents(v.map(e=>({cal:e.cal,e:e.e,start:new Date(e.e.start),end:new Date(e.e.end)})))){let a=document.createElement("button");a.className="event-block",a.style.borderLeftColor=e.cal.color||"var(--accent)";let n=t.minutesFromStartOfDay(e.start)/60*t.getHourHeightPx(),l=Math.max(20,(t.minutesFromStartOfDay(e.end)-t.minutesFromStartOfDay(e.start))/60*t.getHourHeightPx()),r=100/e.trackCount,c=r*e.trackIndex;a.style.top="".concat(n,"px"),a.style.height="".concat(l,"px"),a.style.left="calc(".concat(c,"% + 2px)"),a.style.width="calc(".concat(r,"% - 4px)"),a.innerHTML='<div class="evt-time">'.concat(t.formatTimeLabel(e.start),"–").concat(t.formatTimeLabel(e.end),'</div><div class="evt-title">').concat(t.escapeHtml(e.e.summary||""),"</div>"),a.addEventListener("click",a=>{a.stopPropagation(),t.showEditor({href:e.e.href,etag:e.e.etag,calendarUrl:e.cal.url,summary:e.e.summary,description:e.e.description,location:e.e.location,start:e.e.start,end:e.e.end,allDay:e.e.allDay})}),p.appendChild(a)}u.appendChild(m),e.appendChild(i),e.appendChild(u)}(e,R,t):"agenda"===M&&function(e,t,a){let{start:n,end:l}=a,r=document.createElement("div");r.className="agenda-list";let c=t.getEventsForVisibleCalendars().filter(e=>{let{e:t}=e,a=new Date(t.start);return a>=n&&a<=l}),s=t.groupEventsByDateKey(c),o=Array.from(s.keys()).sort();for(let e of o){let a=new Date(e+"T00:00:00"),n=document.createElement("div");n.className="agenda-day";let l=document.createElement("div");l.className="agenda-date",l.textContent=t.formatLongDate(a),n.appendChild(l);let c=document.createElement("div");for(let{cal:a,e:n}of(c.className="agenda-items",s.get(e)||[])){let e=document.createElement("button");e.className="agenda-row";let l=n.allDay?"Ganzt\xe4gig":"".concat(t.formatTimeLabel(new Date(n.start))," – ").concat(t.formatTimeLabel(new Date(n.end)));e.innerHTML='<span class="dot" style="background:'.concat(a.color||"var(--muted)",'"></span><span class="title">').concat(t.escapeHtml(n.summary||""),'</span><span class="time">').concat(t.escapeHtml(l),"</span>"),e.addEventListener("click",()=>{t.showEditor({href:n.href,etag:n.etag,calendarUrl:a.url,summary:n.summary,description:n.description,location:n.location,start:n.start,end:n.end,allDay:n.allDay})}),c.appendChild(e)}n.appendChild(c),r.appendChild(n)}if(0===o.length){let e=document.createElement("div");e.className="msg",e.textContent="Keine Termine im Zeitraum.",r.appendChild(e)}e.appendChild(r)}(e,R,t)},[O,M,j,R]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("section",{className:"card",children:[(0,n.jsx)("h2",{children:"Kalender"}),(0,n.jsx)("div",{className:"calendar-list",children:s.map(e=>(0,n.jsxs)("div",{className:"calendar-item",children:[(0,n.jsx)("input",{type:"checkbox",checked:b.has(e.url),onChange:t=>(function(e,t){let a=new Set(b);t?a.add(e):a.delete(e),N(a)})(e.url,t.target.checked)}),(0,n.jsx)("span",{children:e.displayName}),(0,n.jsx)("span",{className:"pill",style:{borderColor:e.color||"var(--border)",color:e.color||"var(--muted)"},children:e.color||"#"}),(0,n.jsx)("button",{onClick:()=>K({calendarUrl:e.url}),children:"Neu"})]},e.url))})]}),(0,n.jsxs)("section",{className:"card",children:[(0,n.jsxs)("div",{className:"calendar-toolbar","aria-label":"Kalender Navigation",children:[(0,n.jsxs)("div",{className:"left",children:[(0,n.jsxs)("div",{className:"nav",children:[(0,n.jsx)("button",{onClick:()=>q(-1),title:"Zur\xfcck",children:"◀"}),(0,n.jsx)("button",{onClick:()=>q(1),title:"Weiter",children:"▶"}),(0,n.jsx)("button",{onClick:()=>F(new Date),title:"Heute",children:"Heute"})]}),(0,n.jsx)("div",{className:"current-range",children:J})]}),(0,n.jsx)("div",{className:"right",children:(0,n.jsxs)("div",{className:"view-switch",role:"tablist","aria-label":"Ansicht wechseln",children:[(0,n.jsx)("button",{role:"tab","aria-selected":String("month"===M),onClick:()=>k("month"),children:"Monat"}),(0,n.jsx)("button",{role:"tab","aria-selected":String("week"===M),onClick:()=>k("week"),children:"Woche"}),(0,n.jsx)("button",{role:"tab","aria-selected":String("day"===M),onClick:()=>k("day"),children:"Tag"}),(0,n.jsx)("button",{role:"tab","aria-selected":String("agenda"===M),onClick:()=>k("agenda"),children:"Liste"})]})})]}),(0,n.jsx)("div",{className:"calendar-view",ref:Y,"aria-live":"polite"})]}),H&&(0,n.jsx)(o,{onCancel:_,onSave:G,calendars:s,initial:T})]});function W(e,t){let a=document.createElement("button");a.className="evt-chip",a.style.borderLeftColor=e.color||"var(--accent)",a.title="".concat(t.summary||"");let n=t.allDay?"Ganzt\xe4gig":v(new Date(t.start));return a.innerHTML='<span class="dot" style="background:'.concat(e.color||"var(--accent)",'"></span><span class="txt">').concat(m(n)," ").concat(m(t.summary||""),"</span>"),a.addEventListener("click",a=>{a.stopPropagation(),K({href:t.href,etag:t.etag,calendarUrl:e.url,summary:t.summary,description:t.description,location:t.location,start:t.start,end:t.end,allDay:t.allDay})}),a}function Z(e){let t=document.createElement("div");t.className="day-head";let a=h(e,new Date);return t.innerHTML='<span class="dow">'.concat(g(e),'</span><span class="dom ').concat(a?"today":"",'">').concat(e.getDate(),"</span>"),t}}function s(){return(0,n.jsx)(l.Suspense,{fallback:null,children:(0,n.jsx)(c,{})})}function o(e){var t;let{onCancel:a,onSave:r,calendars:c,initial:s}=e,[o,i]=(0,l.useState)((null==s?void 0:s.href)||""),[u,m]=(0,l.useState)((null==s?void 0:s.etag)||""),[p,h]=(0,l.useState)((null==s?void 0:s.calendarUrl)||(null===(t=c[0])||void 0===t?void 0:t.url)||""),[g,v]=(0,l.useState)((null==s?void 0:s.summary)||""),[f,D]=(0,l.useState)((null==s?void 0:s.description)||""),[y,S]=(0,l.useState)((null==s?void 0:s.location)||""),[w,C]=(0,l.useState)(!!(null==s?void 0:s.allDay)),x=(null==s?void 0:s.start)?new Date(s.start):new Date,E=new Date((null==s?void 0:s.end)?s.end:x.getTime()+36e5),[b,N]=(0,l.useState)(d(x)),[M,k]=(0,l.useState)(d(E));return(0,n.jsxs)("section",{className:"card",id:"editSection",children:[(0,n.jsx)("h2",{id:"editTitle",children:o?"Termin bearbeiten":"Neuer Termin"}),(0,n.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),!b||!M)return alert("Bitte Start/Ende angeben");let t=new Date(b),a=new Date(M);if(a<=t)return alert("Ende muss nach Start liegen");r({calendarUrl:p,href:o||void 0,etag:u||void 0,event:{summary:g.trim(),description:f.trim(),location:y.trim(),start:t.toISOString(),end:a.toISOString(),allDay:w}})},children:[(0,n.jsx)("input",{type:"hidden",value:o,onChange:e=>i(e.target.value)}),(0,n.jsx)("input",{type:"hidden",value:u,onChange:e=>m(e.target.value)}),(0,n.jsxs)("label",{children:["Kalender",(0,n.jsx)("select",{required:!0,value:p,onChange:e=>h(e.target.value),children:c.map(e=>(0,n.jsx)("option",{value:e.url,children:e.displayName},e.url))})]}),(0,n.jsxs)("label",{children:["Betreff",(0,n.jsx)("input",{type:"text",required:!0,value:g,onChange:e=>v(e.target.value)})]}),(0,n.jsxs)("label",{children:["Beschreibung",(0,n.jsx)("textarea",{rows:3,value:f,onChange:e=>D(e.target.value)})]}),(0,n.jsxs)("label",{children:["Ort",(0,n.jsx)("input",{type:"text",value:y,onChange:e=>S(e.target.value)})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("label",{children:["Start",(0,n.jsx)("input",{type:"datetime-local",required:!0,value:b,onChange:e=>N(e.target.value)})]}),(0,n.jsxs)("label",{children:["Ende",(0,n.jsx)("input",{type:"datetime-local",required:!0,value:M,onChange:e=>k(e.target.value)})]})]}),(0,n.jsxs)("label",{className:"checkbox",children:[(0,n.jsx)("input",{type:"checkbox",checked:w,onChange:e=>C(e.target.checked)})," Ganzt\xe4gig"]}),(0,n.jsxs)("div",{className:"row right",children:[(0,n.jsx)("button",{type:"button",onClick:a,children:"Abbrechen"}),(0,n.jsx)("button",{type:"submit",children:"Speichern"})]})]})]})}function i(e){let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(n)}function d(e){let t=i(e),a=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0");return"".concat(t,"T").concat(a,":").concat(n)}function u(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}function m(e){return String(e).replace(/[&<>"]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"})[e])}function p(e){let t=(e.getDay()+6)%7,a=new Date(e.getFullYear(),e.getMonth(),e.getDate());return a.setDate(a.getDate()-t),a}function h(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function g(e){return["Mo","Di","Mi","Do","Fr","Sa","So"][(e.getDay()+6)%7]}function v(e){let t=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0");return"".concat(t,":").concat(a)}function f(e){return"".concat(["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"][e.getMonth()]," ").concat(e.getFullYear())}function D(e){return"".concat(e.getDate(),". ").concat(["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"][e.getMonth()])}function y(e){return"".concat(["So","Mo","Di","Mi","Do","Fr","Sa"][e.getDay()],", ").concat(e.getDate(),". ").concat(["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"][e.getMonth()]," ").concat(e.getFullYear())}function S(e){return 60*e.getHours()+e.getMinutes()}function w(){return 48}function C(e){let t=[...e].sort((e,t)=>e.start-t.start||e.end-t.end),a=[],n=[];for(let e of t){let t=-1;for(let n=0;n<a.length;n++)if(a[n][a[n].length-1].end<=e.start){a[n].push(e),t=n;break}-1===t&&(a.push([e]),t=a.length-1),n.push({...e,trackIndex:t,trackCount:0})}let l=a.length||1;for(let e of n)e.trackCount=l;return n}function x(e,t){if(!e)return"";let a=new Date(e);return t?i(a):"".concat(i(a)," ").concat(String(a.getHours()).padStart(2,"0"),":").concat(String(a.getMinutes()).padStart(2,"0"))}},9376:function(e,t,a){"use strict";var n=a(5475);a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(t,{useSearchParams:function(){return n.useSearchParams}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=1613)}),_N_E=e.O()}]);